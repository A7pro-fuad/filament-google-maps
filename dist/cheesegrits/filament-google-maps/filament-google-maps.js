(()=>{var e,t={825:()=>{function e(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,a)}return o}function t(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}window.filamentGoogleMaps=function(o,a){return{map:null,geocoder:null,marker:null,markerLocation:null,mapEl:null,pacEl:null,loadGMaps:function(){if(document.getElementById("filament-google-maps-google-maps-js")){!function e(t,o){window[t]?o():setTimeout((function(){e(t,o)}),100)}("filamentGoogleMapsAPILoaded",function(){this.createMap()}.bind(this))}else{var e=document.createElement("script");e.id="filament-google-maps-google-maps-js",window.filamentGoogleMapsAsyncLoad=this.createMap.bind(this),e.src=a.gmaps+"&callback=filamentGoogleMapsAsyncLoad",document.head.appendChild(e)}},init:function(e,t){this.mapEl=e,this.pacEl=t,this.loadGMaps()},createMap:function(){var o=this;window.filamentGoogleMapsAPILoaded=!0;this.getCoordinates();if(this.map=new google.maps.Map(this.mapEl,function(o){for(var a=1;a<arguments.length;a++){var n=null!=arguments[a]?arguments[a]:{};a%2?e(Object(n),!0).forEach((function(e){t(o,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(n)):e(Object(n)).forEach((function(e){Object.defineProperty(o,e,Object.getOwnPropertyDescriptor(n,e))}))}return o}({center:this.getCoordinates(),zoom:a.defaultZoom},a.controls)),this.marker=new google.maps.Marker({draggable:a.draggable,map:this.map}),this.marker.setPosition(this.getCoordinates()),a.clickable&&this.map.addListener("click",(function(e){o.markerLocation=e.latLng.toJSON(),o.setCoordinates(o.markerLocation),o.updateAutocomplete(o.markerLocation),o.map.panTo(o.markerLocation)})),a.draggable&&google.maps.event.addListener(this.marker,"dragend",(function(e){o.markerLocation=e.latLng.toJSON(),o.setCoordinates(o.markerLocation),o.updateAutocomplete(o.markerLocation),o.map.panTo(o.markerLocation)})),a.controls.searchBoxControl){var n=this.pacEl,r=new google.maps.places.SearchBox(n);this.map.controls[google.maps.ControlPosition.TOP_LEFT].push(n),r.addListener("places_changed",(function(){n.value="",o.markerLocation=r.getPlaces()[0].geometry.location}))}if(a.autocomplete){a.autocompleteReverse&&(this.geocoder=new google.maps.Geocoder);var i=document.getElementById(a.autocomplete);if(i){window.addEventListener("keydown",(function(e){if(("U+000A"===e.keyIdentifier||"Enter"===e.keyIdentifier||13===e.keyCode)&&"INPUT"==e.target.nodeName&&"text"==e.target.type)return e.preventDefault(),!1}),!0);var l=new google.maps.places.Autocomplete(i,{fields:["formatted_address","geometry","name"],strictBounds:!1,types:["geocode"]});l.addListener("place_changed",(function(e){var t=l.getPlace();t.geometry&&t.geometry.location?(t.geometry.viewport?o.map.fitBounds(t.geometry.viewport):o.map.setCenter(t.geometry.location),o.marker.setPosition(t.geometry.location),o.markerLocation=t.geometry.location,o.setCoordinates(t.geometry.location)):window.alert("No details available for input: '"+t.name+"'")}))}}},updateMapFromAlpine:function(){var e=this.getCoordinates(),t=this.marker.getPosition();e.lat===t.lat()&&e.lng===t.lng()||(this.updateAutocomplete(e),this.updateMap(e))},updateMap:function(e){this.marker.setPosition(e),this.map.panTo(e)},updateAutocomplete:function(e){a.autocomplete&&a.autocompleteReverse&&this.geocoder.geocode({location:e}).then((function(e){e.results[0]&&o.set(a.autocomplete,e.results[0].formatted_address)}))},setCoordinates:function(e){o.set(a.statePath,e,!1)},getCoordinates:function(){var e=o.get(a.statePath);return null!==e&&e.hasOwnProperty("lat")||(e={lat:a.defaultLocation.lat,lng:a.defaultLocation.lng}),e}}}},3:()=>{}},o={};function a(e){var n=o[e];if(void 0!==n)return n.exports;var r=o[e]={exports:{}};return t[e](r,r.exports,a),r.exports}a.m=t,e=[],a.O=(t,o,n,r)=>{if(!o){var i=1/0;for(p=0;p<e.length;p++){for(var[o,n,r]=e[p],l=!0,s=0;s<o.length;s++)(!1&r||i>=r)&&Object.keys(a.O).every((e=>a.O[e](o[s])))?o.splice(s--,1):(l=!1,r<i&&(i=r));if(l){e.splice(p--,1);var c=n();void 0!==c&&(t=c)}}return t}r=r||0;for(var p=e.length;p>0&&e[p-1][2]>r;p--)e[p]=e[p-1];e[p]=[o,n,r]},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={471:0,822:0};a.O.j=t=>0===e[t];var t=(t,o)=>{var n,r,[i,l,s]=o,c=0;if(i.some((t=>0!==e[t]))){for(n in l)a.o(l,n)&&(a.m[n]=l[n]);if(s)var p=s(a)}for(t&&t(o);c<i.length;c++)r=i[c],a.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return a.O(p)},o=self.webpackChunkfilament_google_maps=self.webpackChunkfilament_google_maps||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})(),a.O(void 0,[822],(()=>a(825)));var n=a.O(void 0,[822],(()=>a(3)));n=a.O(n)})();
//# sourceMappingURL=filament-google-maps.js.map